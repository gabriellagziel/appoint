### L10n/i18n Full QA (100% Coverage) — Languages, Locale, RTL, Formatting, Fallback

Scope: marketing, business, enterprise-app, appoint (Flutter). Excludes admin (English-only).

Objectives
- Verify 56 locales are available and load without runtime errors.
- Confirm locale detection order: URL (?lang), cookie (lang), Accept-Language → default en.
- Ensure English fallback for any missing/mismatched locale.
- Validate RTL readiness (he, ar) and layout stability.
- Check date/number/currency formatting where applicable.
- Confirm accessibility (screen readers, aria text) and SEO basics per locale.

Environment & Commands
- Start web apps:
  - Marketing: within `marketing` → `npm run dev`
  - Business: within `business` → `npm run dev`
  - Enterprise: within `enterprise-app` → `npm run dev`
- Flutter PWA (Chrome): `flutter run -d chrome --web-port=3004 -t appoint/lib/main.dart`
- Utilities:
  - Repo scan: `npm run l10n:scan`
  - Validate Flutter ARBs: `npm run l10n:validate-arb`
  - Ensure Next JSON parity: `npm run l10n:ensure-next`

Locale Set for QA
- Core set: en, it, he, ar, fr, de, ru, ja, ko, zh, zh_Hant, pt_BR, es_419, bn_BD.
- Random spot-check: pick 5 more at random from `marketing/public/locales`.

Test Matrix (per app)
1) Locale Detection & Fallback
- Visit with `?lang=<code>` for all core locales; refresh; verify page `lang` attribute is set (web) and strings load; if unsupported, fallback to en.
- Clear query; set cookie `lang=<code>`; reload; confirm behavior.
- Remove cookie; set browser Accept-Language to each core locale; reload; confirm detection.
- For region variants (pt-BR, es-419, zh-Hant): verify folder mapping works (underscore/hyphen handling) and falls back to base (e.g., `pt` → `pt_BR` or `en` as appropriate).

2) Marketing (Next.js)
- SEO localized: `<title>`, `<meta name=description>` reflect locale; Open Graph description acceptable.
- Header/nav labels localize; `?lang` toggle switches language without errors.
- `lang` attribute on root reflects locale; no mixed-language warnings.
- Content: Identify any English hard-coded text still on the page; log for extraction.
- Visual: No truncation/overflow with long translations (fr/de/ru/ja/zh);
  verify CTA buttons, hero headline, and lists at common breakpoints (sm/md/lg).
- RTL (he/ar): text direction is right-to-left, alignment sensible; icons and chevrons remain visually correct.
- Fonts: No tofu for CJK/Arabic/Hebrew; glyphs render; line height is readable.
- Accessibility: Screen reader reads in correct language; landmark roles intact; links have discernible names; localized labels present.
- Analytics: Basic navigation/CTA tracking still fires and is insensitive to locale text.

3) Business (Next.js)
- `<html lang>` follows detected locale; no runtime errors.
- With 56 locale folders present, pages render normally. Note any hard-coded UI strings to extract later.
- Fallback: Force a non-existent locale (e.g., `?lang=xx-ZZ`); verify en.
- RTL: smoke-check dashboard/login routes for layout anomalies in he/ar.
- Accessibility/fonts/truncation: spot-check key pages (login, dashboard, settings).

4) Enterprise (Next.js)
- Same as Business. Verify docs/landing/login routes with 3 locales (en/he/it) and 2 region variants.
- Confirm no errors in server logs when switching locales rapidly.

5) Flutter (appoint)
- Device/browser locale detection on first launch; fallback to en for unsupported.
- Verify `AppLocalizations.supportedLocales` includes 56; app runs without missing-key exceptions.
- Switch Chrome language; reload app; confirm detected locale.
- RTL (he/ar): check main screens for alignment and widget mirroring.
- Fonts: no missing glyphs; dynamic text scales without clipping.

Formatting & Data (where applicable)
- Dates: ensure format respects locale (short/long). If not implemented, log as gap.
- Numbers/currency: group separators and decimal symbols align with locale.
- Plurals/gender (if used later): verify ICU rules; else log N/A.

SEO & Internationalization
- Optional (Marketing): add/verify `hreflang` tags for key locales and canonical links remain stable.
- Sitemap: localized URLs if/when routing is localized; else single version OK.

Error States & Fallbacks
- Corrupt/invalid locale JSON/ARB: simulate by temporarily breaking one locale file; app should fallback to en without crashing (restore file after test).
- Missing key in a specific locale JSON: ensure English backfill appears (Next apps) and no runtime error.

Reporting
- Log issues with: app, route/screen, locale, device, steps, expected, actual, screenshot.
- Prioritize: P0 crash/data loss; P1 layout/RTL break; P2 minor truncation; P3 copy fixes.

Exit Criteria
- No crashes across 56 locales in all apps (except admin).
- English fallback confirmed for invalid/missing locales.
- RTL usability acceptable for he/ar; no critical visual regressions.
- No major truncation/overflow on key screens.
- Accessibility basic checks pass per locale.


